<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <link rel="stylesheet" href="style.css"> 
    <title>Mystic Network | Home</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cairo+Play:wght@200..1000&family=Cairo:wght@200..1000&family=Changa:wght@200..800&display=swap" rel="stylesheet">
</head>
<body>
    <video autoplay muted loop playsinline id="bg-video">
        <source src="https://r2.guns.lol/dcd0e93e-a503-4743-941e-815433cb2be5.mp4" type="video/mp4">
    </video>
    <div id="bg-overlay"></div>

    <nav>
        <a href="#">
        <div class="logo"><img src="logo.webp" alt=""></div>
        </a>
        <ul class="nav-links">
            <a href="#">Home</a>
            <a href="store.html">Store</a>
            <a href="games.html">Games</a>
            <a href="https://discord.gg/SvbZCf3Bhv" target="_blank">Support</a>
        </ul>
    </nav>

    <div class="container">
        <div class="hero">
            <img src="newlog.png" alt="">
            <p class="subtitle">سيرفر ماين كرافت عربي</p>
        </div>

        <div class="status-container">
            <div class="status-card">
                <div class="card-title">Server status</div>
                <div class="card-content" id="server-status">
                    <div class="spinner"></div> Loading...
                </div>
            </div>

            <div class="status-card">
                <div class="card-title">Online players</div>
                <div class="card-content" id="players-count">
                    <div class="spinner"></div> Loading...
                </div>
            </div>

            <div class="status-card">
                <div class="card-title">IP</div>
                <div class="card-content">
                    <div class="info-value">Play.Mystic.ovh</div>
                </div>
            </div>

            <div class="status-card">
                <div class="card-title">Port</div>
                <div class="card-content">
                    <div class="info-value">19132</div>
                </div>
            </div>
        </div>

        <div id="error-container"></div>
    </div>

    <script>
async function fetchServerStatus() {
    try {
        const response = await fetch('https://api.mcsrvstat.us/3/mystic.ovh:25565');
        const data = await response.json();

        const statusElement = document.getElementById('server-status');
        const playersElement = document.getElementById('players-count');

        if (data.online === true) {
            statusElement.innerHTML = `
                <span class="status-badge status-online">
                    <span class="status-dot"></span> Online
                </span>`;

            // الصح هنا:
            const currentPlayers = data.players?.online ?? 0;
            const maxPlayers = data.players?.max ?? 0;

            playersElement.innerHTML = `
                <div class="info-value">${currentPlayers} / ${maxPlayers}</div>
            `;
        } else {
            statusElement.innerHTML = `
                <span class="status-badge status-offline">
                    <span class="status-dot"></span> Offline
                </span>`;

            playersElement.innerHTML = `
                <div class="info-value">-- / --</div>
            `;
        }
    } catch (error) {
        document.getElementById('server-status').innerHTML = `
            <span class="status-badge status-offline">
                <span class="status-dot"></span> Error
            </span>`;

        document.getElementById('players-count').innerHTML = `
            <div class="info-value">-- / --</div>
        `;

        document.getElementById('error-container').innerHTML = `
            <div class="error-message">⚠️ Please try again</div>
        `;
    }
}

fetchServerStatus();
setInterval(fetchServerStatus, 30000);
</script>


</body>
</html>



